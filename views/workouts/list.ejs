<%- include('../layouts/header') %>
<div class="container">
  <h1>View Workouts</h1>
  <table class="table table-striped">
    <thead>
      <tr><th>Date</th><th>Title</th><th>Type</th><th>Duration</th><th>Calories</th><th>Actions</th></tr>
    </thead>
    <!-- displays the info and the actions on a neat table, also shows if there are none and allows them to click and add-->
    <tbody>
      <% if (workouts.length === 0) { %>
        <tr><td colspan="6" class="text-center">There are no workouts logged yet - <a href="/workouts/new">Add a new one here!</a>.</td></tr>
      <% } %>
      <% workouts.forEach(function(w){ %>
        <tr>
          <td><%= w.date.toDateString() %></td>
          <td><a href="/workouts/<%= w._id %>"><%= w.title %></a></td>
          <td><%= w.type %></td>
          <td><%= w.durationMin %> min</td>
          <td><%= w.calories %></td>
          <td>
            <a class="btn btn-sm btn-primary" href="/workouts/<%= w._id %>/edit">Edit</a>
            <form action="/workouts/<%= w._id %>?_method=DELETE" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this workout? This action cannot be undone.');">
              <button class="btn btn-sm btn-danger" type="submit">Delete</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
<%- include('../layouts/footer') %>
